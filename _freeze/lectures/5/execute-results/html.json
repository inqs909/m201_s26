{
  "hash": "ca6ce42e3c6e90fd2ed07c395a47f2d7",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: |\n  Simple <br>\n  Linear Regression\ndescription: |\n  Begins the discussion for linear regression.\n\nformat:\n  revealjs:\n    width: 1200\n    scrollable: true\n    sc-sb-title: true\n    footer: m201.inqs.info/lectures/5\n    theme: [default, styles.scss]\n    navigation-mode: vertical\n    controls-layout: edges\n    controls-tutorial: true\n    slide-number: true\n    pointer:\n      pointerSize: 32\n    incremental: false \n    chalkboard:\n      theme: whiteboard\n      chalk-width: 4\nknitr:\n  opts_chunk: \n    echo: true\n    eval: true\n    code-fold: true\n    warnings: false\n    comment: \"#>\" \n    \nrevealjs-plugins:\n  - pointer\n  \nfilters: \n  - reveal-header\n  - code-fullscreen\n  - reveal-auto-agenda\n\neditor: source\n---\n\n## R Packages\n\n\n\n\n-   rcistats\n-   tidyverse\n\n\n## Palmer Penguins Data\n\n::: {.columns}\n::: {.column}\n\n### Variables of Interest\n\n- `flipper_len`: Flipper Length in [millimeters](https://en.wikipedia.org/wiki/Millimetre)\n- `body_mass`: Body mass in [grams](https://en.wikipedia.org/wiki/Gram)\n\n:::\n::: {.column}\n![Artwork by @allison_horst](img/penguins.png){fig-alt=\"An image of several penguins in Antartica.\"}\n\n:::\n::: \n\n## Variables of Interest\n\n\n\n\n# Modeling Relationships\n\n## Explaining Variation\n\n::: fragment\nThis is the process where we try to reduce the variation with the use of other variables.\n:::\n\n::: fragment\nCan be thought of as getting it less wrong when taking an educated guess.\n:::\n\n## Modeling Variation\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nggplot(penguins, aes(body_mass)) +\n  geom_density() \n```\n\n::: {.cell-output-display}\n![](5_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\n\n## Modeling Variation with $\\bar X$\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nggplot(penguins, aes(body_mass)) +\n  geom_density() +\n  geom_vline(xintercept = mean(penguins$body_mass))\n```\n\n::: {.cell-output-display}\n![](5_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n\n## Modeling with a Numerical Variable\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nggplot(penguins, aes(x = flipper_len, y = body_mass)) +\n  geom_point() +\n  stat_density_2d(aes(fill = after_stat(level))) +\n  xlim(c(170, 236)) +\n  ylim(c(2500, 6250))\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n#> Warning in stat_density_2d(aes(fill = after_stat(level))): Ignoring unknown\n#> aesthetics: fill\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n#> Warning: Removed 1 row containing non-finite outside the scale range\n#> (`stat_density2d()`).\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n#> Warning: Removed 1 row containing missing values or values outside the scale range\n#> (`geom_point()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](5_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n## Modeling with a Numerical Variable\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nggplot(penguins, aes(x = flipper_len, y = body_mass)) +\n  geom_point() +\n  stat_smooth(method = \"lm\", se = F, col = \"red\") +\n  stat_density_2d(aes(fill = after_stat(level))) +\n  xlim(c(170, 236)) +\n  ylim(c(2500, 6250))\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n#> Warning in stat_density_2d(aes(fill = after_stat(level))): Ignoring unknown\n#> aesthetics: fill\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n#> `geom_smooth()` using formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n#> Warning: Removed 1 row containing non-finite outside the scale range\n#> (`stat_smooth()`).\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n#> Warning: Removed 1 row containing non-finite outside the scale range\n#> (`stat_density2d()`).\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n#> Warning: Removed 1 row containing missing values or values outside the scale range\n#> (`geom_point()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](5_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n\n\n# A Simple Model\n\n## Generated Model\n\n$$\nY \\sim DGP_1\n$$\n\n## A Simple Model\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nggplot(penguins, aes(body_mass)) +\n  geom_density()\n```\n\n::: {.cell-output-display}\n![](5_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n## A Simple Model\n\n$$\nY = \\_\\_\\_ + error\n$$\n\n## Notation\n\n$$\nY = \\ \\ \\ \\ \\ \\ \\ \\ \\ + \\varepsilon \n$$\n\n## The Simple Generated Model\n\n$$\nY \\sim \\beta_0 + \\varepsilon\n$$\n\n$$\n\\varepsilon \\sim DGP_2\n$$\n\n::: fragment\n$DGP_2$ is not the same as the $DGP_1$, it is transformed due $\\beta_0$. Consider this the NULL $DGP$.\n:::\n\n## Observing Data\n\n$$\nY = \\beta_0 + \\varepsilon\n$$\n\n## Estimated Line\n\n$$\n\\hat Y=\\hat\\beta_0\n$$\n\n## Notation\n\n::: columns\n::: {.column width=\"50%\"}\n### Observed\n\n$$\nY = \\beta_0 + \\varepsilon\n$$\n:::\n\n::: {.column width=\"50%\"}\n### Estimated\n\n$$\n\\hat Y = \\hat \\beta_0\n$$\n:::\n:::\n\n# Modelling Data\n\n## Indexing Data\n\nThe data in a data set can be indexed by a number.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\npenguins[1,-c(1:2)]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#>   bill_len bill_dep flipper_len body_mass  sex year\n#> 1     39.1     18.7         181      3750 male 2007\n```\n\n\n:::\n:::\n\n\n::: fragment\nMaking the variable `body_mass` be represented by $Y$ and `flipper_len` as $X$:\n\n$$\nY_1 = 3750 \\ \\ X_1=181\n$$\n\n:::\n\n## Indexing Data\n\n$$\nY_i, X_i\n$$\n\n## Data\n\nWith the data that we collect from a sample, we hypothesize how the data was generated.\n\n::: fragment\nUsing a simple model:\n\n$$\nY_i = \\beta_0 + \\varepsilon_i\n$$\n\n:::\n\n## Estimated Value\n\n$$\n\\hat Y_i = \\hat \\beta_0\n$$\n\n## Estimation \n\nTo estimate $\\hat \\beta_0$, we minimize the follow function:\n\n$$\n\\sum^n_{i=1} (Y_i-\\hat Y_i)^2\n$$\n\n::: fragment\nThis is known as the sum squared errors, SSE \n:::\n\n\n## Residuals\n\nThe residuals are known as the observed errors from the data in the model:\n\n$$\nr_i = Y_i - \\hat Y_i\n$$\n\n## Estimation in R\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nlm(Y ~ 1, data = DATA)\n```\n:::\n\n\n\n- `Y`: Name Outcome Variable of Interest in data frame `DATA`\n- `DATA`: Name of the data frame\n\n## Modeling Body Mass in Penguins\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nxlm <- lm(body_mass ~ 1, data = penguins)\nxlm\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> \n#> Call:\n#> lm(formula = body_mass ~ 1, data = penguins)\n#> \n#> Coefficients:\n#> (Intercept)  \n#>        4207\n```\n\n\n:::\n:::\n\n\n::: fragment\n\n$$\n\\hat Y = 4207\n$$\n\n:::\n\n\n## Visualize\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nggplot(penguins, aes(body_mass)) +\n  geom_density() +\n  geom_vline(xintercept = 4207)\n```\n\n::: {.cell-output-display}\n![](5_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\n\n# Linear Model\n\n## Linear Model\n\nThe goal of Statistics is to develop models the have a better explanation of the outcome $Y$.\n\n::: fragment\nIn particularly, reduce the sum of squared errors.\n:::\n\n::: fragment\nBy utilizing a bit more of information, $X$, we can increase the predicting capabilities of the model.\n:::\n\n::: fragment\nThus, the linear model is born.\n:::\n\n## Visualization\n\n::: panel-tabset\n\n### 1-Dimensional\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nggplot(penguins, aes(body_mass)) +\n  geom_density()\n```\n\n::: {.cell-output-display}\n![](5_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n\n### 2-Dimensional\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nggplot(penguins, aes(x = flipper_len, y = body_mass)) +\n  geom_point() +\n  stat_density_2d(aes(fill = after_stat(level))) +\n  xlim(c(170, 236)) +\n  ylim(c(2500, 6250))\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n#> Warning in stat_density_2d(aes(fill = after_stat(level))): Ignoring unknown\n#> aesthetics: fill\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n#> Warning: Removed 1 row containing non-finite outside the scale range\n#> (`stat_density2d()`).\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n#> Warning: Removed 1 row containing missing values or values outside the scale range\n#> (`geom_point()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](5_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n:::\n\n\n:::\n\n## Linear Model\n\n$$\nY = \\beta_0 + \\beta_1 X + \\varepsilon\n$$\n\n$$\n\\varepsilon \\sim DGP_3\n$$\n\n## Scatter Plot\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nggplot(penguins, aes(flipper_len, body_mass)) + \n  geom_point() \n```\n\n::: {.cell-output-display}\n![](5_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\n\n## Imposing a Line\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nggplot(penguins, aes(flipper_len, body_mass)) + \n  geom_point() +\n  stat_smooth(method = \"lm\", se = F) \n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n#> `geom_smooth()` using formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](5_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n:::\n\n\n## Modelling the Data\n\n$$\nY_i = \\beta_0 + \\beta_1 X_i + \\varepsilon_i\n$$\n\n## Linear Model\n\n$$\n\\hat Y_i = \\hat \\beta_0 + \\hat \\beta_1 X_i\n$$\n\n::: fragment\nGoal is to obtain numerical values for $\\hat \\beta_0$ and $\\hat \\beta_1$ that will minimize the SSE.\n:::\n\n## SSE\n\n$$\n\\sum^n_{i=1} (Y_i-\\hat Y_i)^2\n$$\n\n\n$$\n\\hat Y_i = \\hat \\beta_0 + \\hat \\beta_1 X_i\n$$\n\n## Fitting a Model in R\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nxlm <- lm(Y ~ X, data = DATA)\nxlm\n```\n:::\n\n\n- `X`: Name Predictor Variable of Interest in data frame `DATA`\n- `Y`: Name Outcome Variable of Interest in data frame `DATA`\n- `DATA`: Name of the data frame\n\n## Example\n\n\nY: `body_mass`; X: `flipper_len`\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nxlm <- lm(body_mass ~ flipper_len, data = penguins)\nxlm\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> \n#> Call:\n#> lm(formula = body_mass ~ flipper_len, data = penguins)\n#> \n#> Coefficients:\n#> (Intercept)  flipper_len  \n#>    -5872.09        50.15\n```\n\n\n:::\n:::\n\n\n\n$$\n\\hat Y_i = -5872.09 + 50.15 X_i\n$$\n\n\n## Interpretation of $\\hat\\beta_0$\n\nThe intercept $\\hat \\beta_0$ can be interpreted as the base value when $X$ is set to 0.\n\n::: fragment\nSome times the intercept can be interpretable to real world scenarios.\n:::\n\n::: fragment\nOther times it cannot.\n:::\n\n## Interpreting Example\n\n$$\n\\hat Y_i = -5872.09 + 50.15 X_i\n$$\n\nWhen flipper length is 0 mm, the body mass is -5872 grams.\n\n## Interpretation of $\\hat \\beta_1$\n\nThe slope $\\hat \\beta_1$ indicates how will y change when x increases by 1 unit.\n\n::: fragment\nIt will demonstrate if there is, on average, a positive or negative relationship based on the sign provided.\n:::\n\n## Interpreting Example\n\n$$\n\\hat Y_i = -5872.09 + 50.15 X_i\n$$\n\nWhen flipper length increases by 1 mm, the body mass will increase by 50.15 grams.\n\n\n# Prediction\n\n## Statistical Model\n\n$$\n\\hat Y = \\hat \\beta_0 + \\hat \\beta_1 X\n$$\n\n- $X$: Input\n- $\\hat Y$: Output\n\n## Prediction\n\nUsing the equation $\\hat Y$, we can give it a value of $X$ and then, in return, a value of $\\hat Y$ that predicts the true value $Y$.\n\n## Prediction in R\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nxlm <- lm(Y ~ X,\n            data = DATA)\n\npredict_df <- data.frame(X = VAL)\n\npredict(xlm,\n        predict_df)\n```\n:::\n\n\n- `X`: Name Predictor Variable of Interest in data frame `DATA`\n- `Y`: Name Outcome Variable of Interest in data frame `DATA`\n- `DATA`: Name of the data frame\n- `VAL`: Value for the Predictor Variable\n\n\n## Example 1\n\n::: panel-tabset\n\n### Example\n\nPredict the body mass for a penguin with a flipper length of 185.\n\n### Code\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nxlm <- lm(body_mass ~ flipper_len,\n            data = penguins)\n\nxlm\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> \n#> Call:\n#> lm(formula = body_mass ~ flipper_len, data = penguins)\n#> \n#> Coefficients:\n#> (Intercept)  flipper_len  \n#>    -5872.09        50.15\n```\n\n\n:::\n\n```{.r .cell-code  code-fold=\"true\"}\npredict_df <- data.frame(flipper_len = 185)\n\npredict(xlm,\n        predict_df)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#>        1 \n#> 3406.262\n```\n\n\n:::\n:::\n\n\n:::\n\n## Example 2\n\n\n::: panel-tabset\n\n### Example\n\nPredict the body mass for a penguin with a flipper length of 205.\n\n### Code\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nxlm <- lm(body_mass ~ flipper_len,\n            data = penguins)\n\n\nxlm\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> \n#> Call:\n#> lm(formula = body_mass ~ flipper_len, data = penguins)\n#> \n#> Coefficients:\n#> (Intercept)  flipper_len  \n#>    -5872.09        50.15\n```\n\n\n:::\n\n```{.r .cell-code  code-fold=\"true\"}\npredict_df <- data.frame(flipper_len = 190)\n\npredict(xlm,\n        predict_df)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#>        1 \n#> 3657.028\n```\n\n\n:::\n:::\n\n\n:::\n\n## Interpolation\n\nInterpolation is the process of estimating a value within the range of the observed input data $X$. \n\n## Extrapolation\n\nExtrapolation is the process of estimating a value beyond the range of observed input data $X$. It's about venturing into the unknown, using what we know as a guide.\n\n## Extrapolation\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nggplot(penguins, aes(flipper_len, body_mass)) + \n  xlim(160, 250) +\n  ylim(2600, 7000) +\n  geom_point() +\n  stat_smooth(method = \"lm\", se = F) \n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n#> `geom_smooth()` using formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](5_files/figure-html/unnamed-chunk-20-1.png){width=672}\n:::\n:::\n\n\n\n\n",
    "supporting": [
      "5_files/figure-html"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}